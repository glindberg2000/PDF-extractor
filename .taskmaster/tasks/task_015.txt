# Task ID: 15
# Title: Identify Transaction Table Structure
# Status: pending
# Dependencies: 14
# Priority: high
# Description: Develop logic to identify and extract the transaction table structure from the PDF text content.
# Details:
Implement a method to identify the transaction table in the extracted text. Look for header patterns like 'Date', 'Description', 'Amount' to locate the transaction section. Determine the column positions and structure of the transaction table. Handle variations in header names and positions.

```python
def identify_transaction_table(self, text_content):
    """Identify the transaction table in the PDF text content"""
    # Common header patterns to look for
    header_patterns = [
        r'(Date|Trans\s*Date)\s+(Description|Transaction)\s+(Amount)',
        r'(Date)\s+(Description|Transaction)\s+(Debit|Credit)\s+(Amount)',
        # Add more patterns as needed
    ]
    
    # Search for header patterns in the text
    import re
    table_start = None
    header_pattern = None
    
    for pattern in header_patterns:
        match = re.search(pattern, text_content, re.IGNORECASE)
        if match:
            table_start = match.start()
            header_pattern = match.group(0)
            break
    
    if table_start is None:
        raise ValueError("Could not identify transaction table in the statement")
    
    # Extract the table section (from header to end or next section)
    table_text = text_content[table_start:]
    
    # Find the end of the transaction table (e.g., summary section)
    end_patterns = [
        r'Total(s|\sTransactions)',
        r'Statement\s+Summary',
        r'Balance\s+Summary',
        # Add more patterns as needed
    ]
    
    table_end = None
    for pattern in end_patterns:
        match = re.search(pattern, table_text, re.IGNORECASE)
        if match:
            table_end = match.start()
            break
    
    if table_end:
        table_text = table_text[:table_end]
    
    return table_text, header_pattern
```

# Test Strategy:
Test with various CapitalOne Visa statement formats. Verify that the transaction table is correctly identified regardless of variations in header names or positions. Check that the table boundaries are correctly determined.
